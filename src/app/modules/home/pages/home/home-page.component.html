<div class="error hidden"></div>

<section class="promo">
  <h2 class="promo__title visually-hidden">
    Keksobooking. Кексы по соседству
  </h2>

  <img
    class="promo__img"
    src="assets/img/keksobooking.svg"
    alt="Keksobooking. Кексы по соседству"
    width="215"
    height="45"
  />
</section>

<header class="header container">
  <div class="header__bg"></div>

  <h1 class="title">
    Аренда жилья в&nbsp;Токио
  </h1>

  <div class="filters">
    <app-filters></app-filters>
  </div>
</header>

<main>
  <section class="ads container">
    <div class="ads__header">
      <div>
        Найдено результатов: {{(ads$ | async)?.length}}
      </div>

      <button type="button" class="btn btn-success" (click)="adFormModal.show()">
        Добавить объявление
      </button>
    </div>

    <app-ads></app-ads>
  </section>

  <div
    #adFormModal="bs-modal"
    class="modal fade"
    id="adFormModal"
    [config]="{backdrop: 'static'}"
    (click)="onAdFormHide($event)"
    (onHidden)="onAdFormHidden()"
    tabindex="-1"
    role="dialog"
    bsModal
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <button
            class="close pull-right"
            (click)="adFormModal.hide()"
          >
            <span aria-hidden="true">&times;</span>
          </button>

          <h2 class="modal-title">
            Ваше объявление
          </h2>
        </div>

        <div class="modal-body">
          <app-ad-form
            (openSuccessModal)="successModal.show()"
            (hideFormModal)="adFormModal.hide()"
            (setSuccessStatus)="setSuccessStatus()"
          ></app-ad-form>
        </div>
      </div>
    </div>
  </div>

  <div
    #successModal="bs-modal"
    class="modal fade"
    tabindex="-1"
    role="dialog"
    bsModal
  >
    <div class="modal-dialog">
      <div class="modal-content modal-content--success">
        <div class="modal-header modal-header--success">
          <button
            class="close pull-right"
            (click)="successModal.hide()"
          >
            <span aria-hidden="true">&times;</span>
          </button>

          <h2 class="modal-title modal-title--success">
            Ваше объявление<br>успешно размещено!
          </h2>
        </div>

        <div class="modal-footer modal-footer--success">
          <button
            class="btn btn-success"
            (click)="successModal.hide()"
          >
            Закрыть
          </button>
        </div>
      </div>
    </div>
  </div>
</main>

<footer class="footer container">
  <div class="footer__copyright copyright">
    <a class="copyright__link copyright__link--image" href="https://htmlacademy.ru/intensive/javascript">
      <img src="assets/img/htmla-logo.svg" width="130" height="45" alt="HTML Academy" class="copyright__logo" />
    </a>

    <p>
      Сделано в <a class="copyright__link copyright__link--text" href="https://htmlacademy.ru/intensive/javascript">HTMLAcademy</a> &copy; 2018
    </p>
  </div>

  <ul class="footer__contacts contacts">
    <li>
      <a href="https://twitter.com/htmlacademy_ru" class="contacts__link contacts__link--twitter">Twitter</a>
    </li>

    <li>
      <a href="https://www.instagram.com/htmlacademy/" class="contacts__link contacts__link--instagram">Instagtam</a>
    </li>

    <li>
      <a href="https://www.facebook.com/htmlacademy" class="contacts__link contacts__link--facebook">Facebook</a>
    </li>

    <li>
      <a href="https://vk.com/htmlacademy" class="contacts__link contacts__link--vk">VK</a>
    </li>
  </ul>
</footer>
